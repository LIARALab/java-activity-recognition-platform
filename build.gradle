/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
apply plugin: "groovy"
apply plugin: "application"

defaultTasks 'clean', 'build', 'unzipBuild'

mainClassName = 'org.domus.api.API'

sourceCompatibility = 1.8

repositories {
  mavenCentral()
  jcenter()
}

dependencies {
  compile 'com.graphql-java:graphql-java:6.0'
  compile 'org.hibernate:hibernate-core:5.2.15.Final'
  compile 'org.springframework.boot:spring-boot-starter-web:2.0.0.RELEASE'
  compile 'mysql:mysql-connector-java:5.1.13'
  compile 'org.codehaus.groovy:groovy-all:2.4.13'
  compile 'com.beust:jcommander:1.71'

  testCompile 'org.spockframework:spock-core:1.1-groovy-2.4'
  testCompile 'org.mockito:mockito-core:2.+'
}

task unzipBuild (type: Copy) {
  from zipTree(file("${buildDir}/distributions/${rootProject.name}.zip"))
  into file("dist")
}
